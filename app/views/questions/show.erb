<div class="container">

  <%= erb :'questions/_errors', layout: false, locals: {errors: @errors} %>

  <h1><%= @question.title %></h1>
  <p> <%= @question.created_at %> by <%= @question.user.username %> </p>
  <p> <%= @question.content %> </p>

<!-- add logic to address edit button appearing when not the author-->
 <%= erb :'questions/_edit-button', layout: false, locals: {question: @question} %>

  <h5> Comments </h5>
    <% @question.comments.each do |qcomment| %>
      <ul>
        <li><%= qcomment.text %> </li>
      </ul>
    <% end %>

  <% if logged_in? %>
  <form action='/questions/<%= @question.id %>/comments/new'>
    <input class="button" type="submit" value="Comment on an Question">
  </form><br>
  <% end %>

  <h3>Answers</h3>
    <% @answers.each do |answer| %>
      <p> <%= answer.body %> </p>
        <% if logged_in? %>
          <form action='/answers/<%= answer.id %>/comments/new' id="comment_form" method="post">
            <textarea name="comment_text" rows="2" cols="50">
              Enter a comment here!
            </textarea>
            <input class="submit_button" type="submit" value="Submit Comment">
          </form><br>
        <% end %>
      <h5> Comments </h5>
        <% answer.comments.each do |acomment| %>
          <p> <%= acomment.text %> </p>
        <% end %>
    <% end %>

  <% if logged_in? %>
  <form action='/questions/<%= @question.id %>/answers/new'>
    <input class="button" type="submit" value="Add an answer">
  </form><br>
  <% end %>

</div>
